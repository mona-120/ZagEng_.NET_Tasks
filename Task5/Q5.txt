namespace Linq_Task
{
    internal class Program
    {
        static void Main(string[] args)
        {
            List<string> orders = ["ORD-001", "ORD-002", "ORD-003", "ORD-004", "ORD-005", "ORD-006", "ORD-007"];

            var PageSize = 3;
            // return first 3 elements in list
            Console.WriteLine("Page 1: ");
            var Page1 = orders.Take(PageSize);
            GetOrders(Page1);

            // return elements in page 2
            Console.WriteLine("\nPage 2: ");
            var Page2 = orders.Skip(PageSize).Take(PageSize);
            GetOrders(Page2);

            // Get the last 2 orders
            Console.WriteLine("\nLast 2 orders: ");
            var last2 = orders.TakeLast(2);
            GetOrders(last2);

            // Get orders except first and last order
            Console.WriteLine("\norders except first and last order: ");
            var result = orders.Skip(1).SkipLast(1);
            GetOrders(result);

            // Usage of GenericPaginate method
            List<int> numbers = [1, 2, 3, 4, 5, 6, 7];
            var PageNumbers = GenericPaginate(numbers, 2, 3);
            Console.WriteLine("\nUsage of GenericPaginate method to display numbers of Page 2: ");
            GetOrders(PageNumbers);

        }

        // Geniric helper method to ger elements
        public static void GetOrders<T>(IEnumerable<T> elements)
        {
            foreach (var element in elements)
            {
                Console.WriteLine(element);
            }

        }

        // Generic Paginate method that take (typeOfData,pageNumber,pageSize) and return needed data in a specific page
        // Achive code reusability (can work with different data types)
        public static IEnumerable<T> GenericPaginate<T> (IEnumerable<T> source,int pageNumber,int pageSize)
        {

          return source.Skip((pageNumber - 1) * pageSize).Take(pageSize);
        }
    }
}
